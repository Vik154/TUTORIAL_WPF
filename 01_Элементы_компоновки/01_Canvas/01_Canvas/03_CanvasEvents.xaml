<Page x:Class="_01_Canvas._03_CanvasEvents"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:local="clr-namespace:_01_Canvas"
      mc:Ignorable="d" 
      d:DesignHeight="480" 
      d:DesignWidth="640"
      d:Background="White"
      Title="_03_CanvasEvents">

    <Grid x:Name="_mainGrid" ShowGridLines="True">

        <Canvas x:Name="_canvasRow0Col0"
            Grid.Column="0"
            Grid.Row="0"
            Background="LightCyan" 
            ContextMenuClosing="EvContextMenuClosing" 
            ContextMenuOpening="EvContextMenuOpening" 
            DataContextChanged="EvDataContextChanged" 
            DragEnter="EvDragEnter" 
            DragLeave="EvDragLeave" 
            DragOver="EvDragOver" 
            Drop="EvDrop" 
            FocusableChanged="EvFocusableChanged"
            DataContext="{Binding ElementName=_btnRow0Col0}"
            AllowDrop="True" GiveFeedback="EvGiveFeedback" GotFocus="EvGotFocus" GotKeyboardFocus="EvGotKeyboardFocus" GotMouseCapture="EvGotMouseCapture" GotStylusCapture="EvGotStylusCapture" GotTouchCapture="EvGotTouchCapture" Initialized="EvInitialized" IsEnabledChanged="EvIsEnableChanged" IsHitTestVisibleChanged="EvIsHitTestVisibleChanged" IsKeyboardFocusedChanged="EvIsKeyboardFocusedChanged" IsKeyboardFocusWithinChanged="EvIsKeyboardFocusWithinChanged" IsMouseCapturedChanged="EvIsMouseCapturedChanged" IsMouseCaptureWithinChanged="EvIsMouseCaptureWithinChanged" IsMouseDirectlyOverChanged="EvIsMouseDirectyOverChanged" IsStylusCapturedChanged="EvIsStylusCapturedChanged" IsStylusCaptureWithinChanged="EvIsStylusCaptureWithinChanged" IsStylusDirectlyOverChanged="EvIsStylusDirectlyOverChanged" IsVisibleChanged="EvIsVisibleChanged" KeyDown="EvKeyDown" KeyUp="EvKeyUp" LayoutUpdated="EvLayoutUpdated" Loaded="EvLoaded" LostFocus="EvLostFocus" LostKeyboardFocus="EvLostKeyboardFocus" LostMouseCapture="EvLostMouseCapture" LostStylusCapture="EvLostStylusCapture" LostTouchCapture="EvLostTouchCapture" ManipulationBoundaryFeedback="EvManipulationBoundaryFeedback" ManipulationCompleted="EvManipulationCompleted" ManipulationDelta="EvManipulationDelta" ManipulationInertiaStarting="EvManipulationIntertiaStarting" ManipulationStarted="EvManipulationStared" ManipulationStarting="EvManipulationStarting" MouseDown="EvMouseDown" MouseEnter="EvMouseEnter" MouseLeave="EvMouseLeave" MouseLeftButtonDown="EvMouseLeftButtonDown" MouseLeftButtonUp="EvMouseLeftButtonUp" MouseMove="EvMouseMove" MouseRightButtonDown="EvMouseRightButtonDown" MouseRightButtonUp="EvMouseRightButtonUp" MouseUp="EvMouseUp" MouseWheel="EvMouseWheel" PreviewDragEnter="EvPreviewDragEnter" PreviewDragLeave="EvPreviewDragLeave" PreviewDragOver="EvPreviewDragLOver" PreviewDrop="EvPreviewDrop" PreviewGiveFeedback="EvPreviewGiveFeedback" PreviewGotKeyboardFocus="EvPreviewGotKeyboardFocus" PreviewKeyDown="EvPreviewKeyDown" PreviewKeyUp="EvPreviewKeyUp" PreviewLostKeyboardFocus="EvPreviewLostKeyboardFocus" PreviewMouseDown="EvPreviewMouseDown" PreviewMouseLeftButtonDown="EvPreviewMouseLeftButtonDown" PreviewMouseLeftButtonUp="EvPreviewMouseLeftButtonUp" PreviewMouseMove="EvPreviewMouseMove" PreviewMouseRightButtonDown="EvPreviewMouseRightButtonDown" PreviewMouseRightButtonUp="EvPreviewMouseRightButtonUp" PreviewMouseUp="EvPreviewMouseUp" PreviewMouseWheel="EvPreviewMouseWheel" PreviewQueryContinueDrag="EvPreviewQueryContinueDrag" PreviewStylusButtonDown="EvPreviewStylusButtonDown" PreviewStylusButtonUp="EvPreviewStylusButtonUp" PreviewStylusDown="EvPreviewStylusDown" PreviewStylusInAirMove="EvPreviewStylusAirMore" PreviewStylusInRange="EvPreviewStylusInRange" PreviewStylusMove="EvPreviewStylusMove" PreviewStylusOutOfRange="EvPreviewStylusOutOfRange" PreviewStylusSystemGesture="EvPreviewStylusSystemGesture" PreviewStylusUp="EvPreviewStylusUp" PreviewTextInput="EvPreviewTextInput" PreviewTouchDown="EvPreviewTouchDown" PreviewTouchMove="EvPreviewTouchMove" PreviewTouchUp="EvPreviewTouchUp" QueryContinueDrag="EvQueryContinueDrag" QueryCursor="EvQueryCursor" RequestBringIntoView="EvRequestBringIntoView" SizeChanged="EvSizeChanged" SourceUpdated="EvSourceUpdated" StylusButtonDown="EvStylusButtonDown" StylusButtonUp="EvStylusButtonUp" StylusDown="EvStylusDown" StylusEnter="EvStylusEnter" StylusInAirMove="EvStylusInAirMore" StylusInRange="EvStylusInRange" StylusLeave="EvStylusLeave" StylusMove="EvStylusMove" StylusOutOfRange="EvStylusOutOfRange" StylusSystemGesture="EvStylusSystemGesture" StylusUp="EvStylusUp" TargetUpdated="EvTargetUpdated" TextInput="EvTextInput" ToolTipClosing="EvToolTipClosing" ToolTipOpening="EvToolTipOpening" TouchDown="EvTouchDown" TouchEnter="EvTouchEnter" TouchLeave="EvTouchLeave" TouchMove="EvTouchMore" TouchUp="EvTouchUp" Unloaded="EvUnloaded"
            >

            <TextBox x:Name="_txtRow0Col0"
                    MaxWidth="340"
                    MaxHeight="300"
                    HorizontalScrollBarVisibility="Visible"
                    VerticalScrollBarVisibility="Visible"
                    TextWrapping="Wrap"
                    Canvas.Right="0"
                    Canvas.Top="0"
                    FontSize="12"
                    FontWeight="Bold"
                    Padding="5,5,5,5"
                    GotStylusCapture="EvGotStylusCapture"
            >
                Пример работы событий (тыкай кнопочки)
            </TextBox>

            <Rectangle x:Name="_greenRectangle"
                       Width="50"
                       Height="50"
                       Fill="LightGreen"
                       Canvas.Left="30" 
                       Canvas.Top="60"
                       MouseMove="_greenRectangle_MouseMove">
            </Rectangle>

            <Button x:Name="_btnRow0Col0"
                    Content="Сменить Цвет"
                    FontWeight="Bold"
                    Canvas.Left="0"
                    Canvas.Top="0"
                    Click="_btnRow0Col0_Click"
                    >
            </Button>

            <Button x:Name="_btnFocusable"
                    Content="Вызвать focusable"
                    FontWeight="Bold"
                    Canvas.Left="0"
                    Canvas.Bottom="0"
                    Click="_btnFocusable_Click"
                    >
            </Button>

            <Button x:Name="_btnChangePenColor"
                    Content="Сменить цвет пера"
                    FontWeight="Bold"
                    Canvas.Left="0"
                    Canvas.Bottom="30"
                    Click="_btnChangePenColor_Click"
                    >
            </Button>

            <Canvas.ContextMenu>
                <ContextMenu Name="_cmenuRow0Col0">
                    <MenuItem Header="File"/>
                    <MenuItem Header="Save"/>
                    <MenuItem Header="SaveAs"/>
                    <MenuItem Header="Recent Files">
                        <MenuItem Header="ReadMe.txt"/>
                        <MenuItem Header="Schedule.xls"/>
                    </MenuItem>
                </ContextMenu>
            </Canvas.ContextMenu>

        </Canvas>
    </Grid>
</Page>
