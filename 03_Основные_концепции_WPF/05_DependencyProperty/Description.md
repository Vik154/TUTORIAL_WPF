### Концепция зависимых свойств (Dependency Property) - *представляет собой расширение функциональных возможностей стандартных свойств CLR.* 

*Информация MSDN: https://learn.microsoft.com/ru-ru/dotnet/desktop/wpf/properties/dependency-properties-overview?view=netdesktop-7.0* <br>

В технологии WPF определены свойства зависимостей, которые являются элементами более высокого уровня функциональности по сравнению с обычными свойствами Microsoft.NET. Свойства зависимостей обеспечивают возможность работы с основными средствами WPF, такими как анимация, привязка данных и стили. Большинство свойств, которыми обладают элементы WPF, являются свойствами зависимостей. Их можно рассматривать как обычные свойства .Net, но они обладают дополнительным набором возможностей WPF. В концептуальном отношении поведение свойств зависимостей не отличается от поведения обычных свойств, но на более низком уровне представления имеется иная реализация. Свойства зависимостей эффективно потребляют память и поддерживают такие высокоуровневые особенности, как уведомления об изменениях и наследование значений свойств. <br>

Большинство свойств у элементов WPF являются свойствами зависимости. Свойства зависимости разработаны таким образом, чтобы с ними можно было работать как с обычными свойствами и все же они не являются обычными свойствами. В концептуальном отношении поведение свойств зависимости не отличается от поведения обычных свойств, однако реализованы они по-другому. Причина проста: производительность. <br>

Подобно "нормальному" свойству .NET (которое в литературе часто называют свойством CLR (CLR property)), свойства зависимости могут устанавливаться декларативно, с использованием XAML или программно в файле кода. Свойства зависимости (подобно свойствам CLR) предназначены для инкапсуляции полей данных класса и могут быть сконфигурированы как доступные только для чтения, только для записи или для чтения и записи.

Например, свойства Height, Width, Content — все это свойства зависимости:
~~~XAML
<!-- Установка трёх свойств зависимости -->
<Button Height="100" Width="100" Content="Кнопка" />
~~~
~~~C#
// Установка трёх свойств зависимости 
Button button = new Button { Width = 100.0, Height = 100.0, Content = "Кнопка" };
~~~
> Свойства зависимости можно добавлять только к объектам зависимости — классам, порожденных от DependencyObject. Большинство ключевых компонентов инфраструктуры WPF косвенно порождены от DependencyObject. Примером такого порождения - являются элементы управления и компоновки. <br>

С учетом всех этих сходств возникает вопрос: зачем нужно было определять в WPF новый термин для такой знакомой концепции? <br>
Причин достаточно много, вот только некоторые из них: <br>
* __Уведомление об изменениях:__ <br>
_Свойства зависимостей имеют встроенный механизм уведомления об изменениях. Зарегистрировав в метаданных свойства, функцию обратного вызова, вы получите уведомление, когда значение свойства изменится. Также при изменении значений свойства зависимостей, автоматически происходит обновление привязок данных и запуск триггеров._
* __Наследование значений, динамическое разрешение значений и уменьшение объема используемой памяти:__ <br>
_Когда идет обращение к свойству зависимостей, используется динамическое разрешение значений свойств зависимостей, это такой механизм извлечения значений из свойств зависимостей. При извлечении значений из свойств зависимостей, система WPF определяет базовое значение, учитывая целый ряд факторов, наиболее высокий приоритет имеет локальное значение. Если локальное значение не задано, установка значения передается вверх по логическому дереву следующему элементу, который может его принять, итак вплоть до значения по умолчанию. Т.е. если вы определите значение атрибута FontSize в открывающем дескрипторе <Window>, то все элементы управления в этом Window будут по умолчанию иметь этот размер шрифта._
* __:__ <br>


На высшем уровне все свойства зависимости создаются следующим образом: <br>

* Класс, определяющий свойство зависимости, должен иметь в своей цепочке наследования __DependencyObject__.
* Единственное свойство зависимости представляется как общедоступное, статическое, предназначенное только для чтения поле в классе типа DependencyProperty. По существующему соглашению имя этого поля формируется добавлением слова Property к имени оболочки CLR.

Переменная DependencyProperty зарегистрирована с помощью статического вызова DependencyProperty.Register(), что обычно происходит в статическом конструкторе или встроенным образом, при объявлении переменной.

Наконец, класс определит дружественное к XAML свойство CLR, которое осуществляет вызовы методов, предоставленных DependencyObject, для получения и установки значения.

___Простой пример привязки данных:___ <br>
В данном примере элемент TextBox с именем x:Name="_source" является источником, а TextBox с именем x:Name="_receiver" - приемником привязки. Свойство Text элемента \<TextBox x:Name="_source"\> привязывается к свойству Text элемента \<TextBox x:Name="_receiver"\>. В итоге при осуществлении ввода в текстовое поле синхронно будут происходить изменения в текстовом блоке.

<img align="left" width="270" height="225" src="img/Bind.png" alt="Пример работы данного кода"/>

~~~XAML
<Window ...VS>
    <Grid>
        <StackPanel HorizontalAlignment="Left">
            <TextBox x:Name="_source" Margin="10" Height="50" />
            <TextBox x:Name="_receiver" Margin="10" Height="50"
                     Text="{Binding ElementName=_source, Path=Text}">
            </TextBox>
        </StackPanel>
    </Grid>
</Window>
~~~

